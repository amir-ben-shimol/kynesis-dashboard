version: '3.8'

services:
    localstack:
        container_name: '${LOCALSTACK_DOCKER_NAME:-localstack-main}'
        image: localstack/localstack-pro
        ports:
            - '127.0.0.1:4566:4566'
            - '127.0.0.1:4510-4559:4510-4559'
            - '127.0.0.1:443:443'
        environment:
            - LOCALSTACK_AUTH_TOKEN=${LOCALSTACK_AUTH_TOKEN:-ls-paKomifA-0021-neza-coGa-2384RAfe7451}
            - DEBUG=${DEBUG:-0}
            - PERSISTENCE=${PERSISTENCE:-0}
        volumes:
            - '${LOCALSTACK_VOLUME_DIR:-./volume}:/var/lib/localstack'
            - '/var/run/docker.sock:/var/run/docker.sock'
networks:
    dashboard_network:
        driver: bridge
